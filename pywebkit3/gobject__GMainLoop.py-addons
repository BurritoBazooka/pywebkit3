cfuncs = []

from .gobject import GMainContext
def idle_add( func , *args):
    cfunc = c_void_p()
    def C_Callable( param ):
        func( *args )
        cfuncs.remove(cfunc)
        return 0
    cfunc = GSourceFunc(C_Callable)
    cfuncs.append(cfunc)
    GMainContext.g_idle_add(cfunc, cfunc )
    
